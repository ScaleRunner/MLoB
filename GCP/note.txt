Note:
This structure is for usage of Keras. If you don't use Keras, then certain
parts of the code aren't nec and you'll need a diff way of exporting
your model (code areas for keras are shown).

required path structure:
- main
-- trainer
--- __init__.py
--- module.py (in our case it's named lstm.py)
--- cloudml-gpu.yaml
-- setup.py

-1. setup.py should contain all the required packages.
0. These notes assume the path structure mentioned above.
1. follow instructions up until 'Running locally'. http://liufuyang.github.io/2017/04/02/just-another-tensorflow-beginner-guide-4.html
2. Test your network locally: python -m lstm --train-file=processed_train_1000_data.json --job-dir=./tmp/lstm
3. Follow rest of guide, to train with gcloud:
gcloud ml-engine local train --module-name lstm --package-path ./ -- --train-file processed_train_1000_data.json --job-dir ./tmp/lstm

6. Run on the cloud using:

(Make sure to change REGION accordingly)

gcloud ml-engine jobs submit training mltest16 --stream-logs --runtime-version 1.4 --job-dir gs://mlip-test/mlip-test16 --package-path ./trainer --module-name trainer.lstm --region europe-west1 -- --train-files gs://mlip-test/processed_train_1000_data.json

After this, the model is saved in the job-dir.

--- predictions ----
7. Download the h5 model using the command below (or download it manually) and make your own predictions by loading the model. As we're using Keras and not TF, we couldn't
find a way to use the Keras model directly to predict on GCP. Prediction, however, shouldn't be a computationally expensive task and
hopefully one of your teammate's computers will be able to handle it :P. <-- from https://www.youtube.com/watch?v=VxnHf-FfWKY

Can download using: gsutil cp gs://mlip-test/mlip-test16/model.h5 ./